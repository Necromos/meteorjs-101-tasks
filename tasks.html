<head>
  <title>tasks</title>
</head>

<body>
  <div class="container">
    <div class="row">
      <div class="span3"> 
        {{loginButtons align="right"}} 
      </div>
      <div class="span7">
        <div class="content">
          {{> tasks}}
        </div>
      </div>
      <div class="span2"></div>
    </div>
  </div>
</body>

<template name="tasks">
  {{#if currentUser}}
    {{#if selected}}
      {{> editTask}}
    {{else}}
      {{> addTask}}
    {{/if}}
  {{else}}
    <h3>Zaloguj się aby dodawać oraz edytować wpisy</h3>
  {{/if}}
  <h2>Zadania</h2>
  <table class="table table-striped table-hover">
    <tr>
      <th>Nazwa</th>
      <th colspan="2">Właściciel</th>
    </tr>
    {{#each tasks}}
      {{> task}}
    {{/each}}
  </table>
</template>


<template name="task">
  <tr>
    <td>
      <i>{{name}}</i>
    </td>
    <td>
      {{owner.profile.name}}
    </td>
    <td>
      {{#if canEdit}}
        <button class="btn-link pull-right rmTask"><i class="icon-trash"></i></button>
        <button class="btn-link pull-right editTask"><i class="icon-edit"></i></button>
      {{/if}}
    </td>
  </tr>
</template>

<template name="addTask">
  <div class="form-inline content">
    <h4>Dodaj</h4>
    <input type="text" placeholder="nazwa" id="task-name" class="input-xlarge">
    <button type="button" class="btn btn-success" id="add-task-btn">Dodaj</button>
    <button type="button" class="btn" id="add-task-cancel-btn">Anuluj</button>
  </div>
</template>

<template name="editTask">
  <div class="form-inline content">
    <h4>Edycja</h4>
    <input type="text" value="{{selectedTask.name}}" id="edit-task-name" class="input-xlarge">
    <button type="button" class="btn btn-success" id="edit-task-btn">Zapisz</button>
    <button type="button" class="btn" id="edit-task-cancel-btn">Anuluj</button>
  </div>
</template>
